# Схема подключения CC2530 к Raspberry Pi 5

## Новая конфигурация GPIO

### Подключение CC2530/CC2531 к Raspberry Pi 5:

| CC2530/CC2531 | Raspberry Pi 5 GPIO | Физический пин | Назначение |
|----------------|---------------------|----------------|------------|
| **RST** (Reset) | **GPIO 22** | Pin 15 | Сброс чипа |
| **DC** (Data/Control) | **GPIO 27** | Pin 13 | Управление данными |
| **DD** (Data) | **GPIO 17** | Pin 11 | Линия данных |
| **GND** | **GND** | Pin 6 | Общий провод |
| **VCC** | **3.3V** | Pin 1 | Питание |

### Физическое расположение пинов на Raspberry Pi 5:

```
Raspberry Pi 5 GPIO Header (40-pin)

    3.3V  [1]  [2]  5V
 GPIO2  [3]  [4]  5V
 GPIO3  [5]  [6]  GND
 GPIO4  [7]  [8]  GPIO14
     GND  [9] [10] GPIO15
GPIO17  [11] [12] GPIO18
GPIO27  [13] [14] GND
GPIO22  [15] [16] GPIO23
    3.3V [17] [18] GPIO24
GPIO10 [19] [20] GND
 GPIO9 [21] [22] GPIO25
GPIO11 [23] [24] GPIO8
     GND [25] [26] GPIO7
 GPIO0 [27] [28] GPIO1
 GPIO5 [29] [30] GND
 GPIO6 [31] [32] GPIO12
GPIO13 [33] [34] GND
GPIO19 [35] [36] GPIO16
GPIO26 [37] [38] GPIO20
     GND [39] [40] GPIO21
```

### Подключение:

1. **RST (Reset)** - GPIO 22 (Pin 15)
   - Подключите к пину сброса CC2530
   - Используется для входа в режим отладки

2. **DC (Data/Control)** - GPIO 27 (Pin 13)
   - Подключите к пину управления данными CC2530
   - Используется для синхронизации

3. **DD (Data)** - GPIO 17 (Pin 11)
   - Подключите к пину данных CC2530
   - Используется для передачи данных

4. **GND** - любой GND пин (Pin 6, 9, 14, 20, 25, 30, 34, 39)
   - Общий провод между устройствами

5. **VCC** - 3.3V (Pin 1, 17)
   - Питание CC2530 (3.3V)

### Проверка подключения:

```bash
# Проверка ID чипа
./cc_chipid

# Ожидаемый результат:
# ID = 8xxx (где xxx - модель чипа)
```

### Команды для тестирования:

```bash
# С новыми пинами по умолчанию
./cc_chipid

# С явным указанием пинов
./cc_chipid -r 22 -c 27 -d 17

# Проверка справки
./cc_chipid -h
```

### Примечания:

- Убедитесь, что CC2530 получает питание 3.3V
- Проверьте качество соединений
- Используйте перемычки хорошего качества
- При необходимости используйте breadboard для удобства

### Устранение неполадок:

1. **"Operation not permitted"** - проверьте права доступа к GPIO
2. **"ID = ffff"** - проверьте подключение проводов
3. **"Failed to open GPIO chip"** - перезагрузите Raspberry Pi 